#############################################################################
##             __________               __   ___.
##   Open      \______   \ ____   ____ |  | _\_ |__   _______  ___
##   Source     |       _//  _ \_/ ___\|  |/ /| __ \ /  _ \  \/  /
##   Jukebox    |    |   (  <_> )  \___|    < | \_\ (  <_> > <  <
##   Firmware   |____|_  /\____/ \___  >__|_ \|___  /\____/__/\_ \
##                     \/            \/     \/    \/            \/
## Copyright Alan Korr, 2002. All rights reserved.
##
## Permission to use, copy, modify, and distribute this software for any
## purpose is hereby granted without fee, provided that this copyright and
## permissions notice appear in all copies and derivatives, and that no
## charge may be made for the software and its documentation except to cover
## cost of distribution.
##
## This software is provided "as is" without express or implied warranty.
#############################################################################

#######################################################################
## PLEASE CONSIDER THERE IS NOTHING TO CHANGE IN THE FOLLOWING LINES
##              SINCE THERE ARE COMMON FOR ALL LIBRARY             
##

ARCH=test

CC      = gcc 
AS      = as
LD      = ld
AR      = ar
RL      = ranlib
OC      = objcopy
GZ      = gzip -f

PREFIX  = ~/rockbox/$(ARCH)
DEFINES = -DTEST

CFLAGS  = -g 
#CFLAGS += -save-temps
CFLAGS += -Wall \
	  -W \
	  -Wshadow \
	  -Wpointer-arith \
	  -Waggregate-return \
	  -Wstrict-prototypes \
	  -Wredundant-decls \
	  -Winline \
	  -Wmissing-prototypes \
	  -Werror \
	  -Wsign-compare \
	  -Wmissing-declarations \
	  -Wmissing-noreturns \
	  -Wnested-externs
CFLAGS += -pipe -O3
CFLAGS += -fomit-frame-pointer \
	  -fschedule-insns
CFLAGS += $(EXTRA_CFLAGS)
CFLAGS += $(DEFINES)

INCLUDES = -I.. \
	   -I. \
           -I$(PREFIX)/headers

LIBRARY = lib$(PACKAGE).a

HEADERS = $(PACKAGE).h \
	  config.h \
	  defines.h \
	  types.h \
	  return_values.h \
	  inlines.h \
	  functions.h

SOURCES = $(wildcard $(PACKAGE)-*.c)

OBJECTS  = $(SOURCES:.c=.o)

DEPENDENCIES = $(SOURCES:.c=.d)

HEADER_PATH = $(PREFIX)/headers/$(PACKAGE)/.
