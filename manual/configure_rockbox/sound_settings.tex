% $Id$ %
\screenshot{configure_rockbox/images/ss-sound-settings}{The sound settings screen}{}

The Sound Settings menu offers a selection of sound properties you may 
change to customize your listening experience.

\section{Volume}
  This control adjusts the volume of your music.  Like most professional 
audio gear and many consumer audio products, Rockbox uses a decibel scale 
where 0 dB is a reference that indicates the maximum volume that the \dap\
can produce without distortion (clipping).  Because the volume control 
is basically a comparison of the volume level you set to a reference 
maximum volume of 0 dB, the usable range of the volume setting is shown 
as a negative number. Volume can be adjusted from a
  \opt{player}{minimum of -78 dB to a maximum of +18 dB.}
  \opt{recorder,recorderv2fm,ondio}{minimum of -100 dB to a maximum of +12 dB.}
  \opt{h1xx,h300}{minimum of -84 dB to a maximum of 0 dB.}
  \opt{ipodnano}{minimum of -72 dB to a maximum of +6 dB.}
  \opt{ipodvideo}{minimum of -57 dB to a maximum of +6 dB.}
  \opt{ipodcolor,x5}{minimum of -\fixme{??} dB to a maximum of +\fixme{??} dB.}
  
\section{Bass}
  \opt{player,recorder,recorderv2fm,ondio}{This emphasises or suppresses the 
  lower (bass) sounds in the track.  0 means that bass sounds are unaltered
  (flat response).}
  \opt{h1xx,h300}{The Bass setting can be used to increase (but not decrease)
  frequencies below 300Hz. Bass boost can be set from 0 to 24 dB in
  increments of 2 dB. A setting of 0 means that low frequencies are unaltered 
  (flat response).}
  \opt{ipodnano,ipodcolor,ipodvideo,x5}{\fixme{TODO - platform specific description.}}

\section{Treble}
  \opt{player,recorder,recorderv2fm,ondio}{This emphasises or suppresses the
  higher (treble) sounds in the track.  0 means that treble sounds are
  unaltered (flat response).}
  \opt{h1xx,h300}{The Treble setting can be used to increase (but not decrease)
  frequencies above 1.5kHz. Treble boost can be set from 0 to 6 dB in
  increments of 2 dB. A setting of 0 means that high frequencies are unaltered
  (flat response).}
  \opt{ipodnano,ipodcolor,ipodvideo,x5}{\fixme{TODO - platform specific description.}}

\section{Balance}
  This setting controls the balance between the left and right channels.  The 
  default, 0, means that the left and right outputs are equal in volume.  
  Negative numbers increase the volume of the left channel relative to the
  right, positive numbers increase the volume of the right channel relative
  to the left.

\section{Channels}
  A stereo audio signal consists of two channels, left and right. The channels
   function controls how much of the left channel signal is mixed into the
   right channel signal, and vice versa.
  \opt{MASCODEC}{This option controls the on{}-board mixing facilities of the \dap.}
  \opt{SWCODEC}{This option controls the mixing facilities of the \dap.}
  Available options are:
  %
  \begin{table}
  \begin{center}
  \begin{tabularx}{\textwidth}{lX}\toprule
      \textbf{Setting} & \textbf{Description} \\\midrule
        Stereo
        & Do not mix the signal. \\
        %
        Mono 
        & Mix both channels down to mono and send the mixed signal back to
          both. \\
        %
        Custom
        & Allows you to manually specify a stereo width with the
          \emph{Stereo Width} setting described later in the manual. \\
        %
        Mono Left
        & Plays the left channel in both stereo channels. \\
        %
        Mono Right
        & Plays the right channel in both stereo channels. \\
        %
        Karaoke
        & Removes all sound that is the same in both channels. Since most
          vocals are recorded in this way to make the artist sound central,
          this often (but not always) has the effect of removing the voice
          track from a song. This setting also very often has other undesirable
          effects on the sound.  \\
        \bottomrule
  \end{tabularx}
  \end{center}
  \end{table}
      
\section{Stereo Width}
  Stereo width will allow you to manually specify the effect that is applied
  when the \emph{Channels} setting is set to \emph{Custom}.
  All values below 100\% will progressively mix the contents of one channel into
  the other. This has the effect of gradually centering the stereo image, until
  you have mono sound at 0\%. Values above 100\% will progressively remove
  components in one channel that is also present in the other. This has the
  effect of widening the stereo field. A value of 100\% will leave the stereo
  field unaltered.

\opt{recorder,recorderv2fm}{
  \section{Loudness}
  Loudness is an effect which emphasises bass and treble.  This makes the
  track seem louder by amplifying the frequencies that the human ear finds
  hard to hear.  Frequencies in the vocal range are unaffected, since the human
  ear picks these up very easily.
}
  
\opt{recorder,recorderv2fm}{
\section{Auto Volume}
  Auto volume is a feature that automatically lowers the volume on loud parts,
  and then slowly restores the volume to the previous level over a time
  interval. That time interval is configurable here.  Short values like 20ms
  are useful for ensuring a constant volume for in car use and other
  applications where background noise makes a constant loudness desirable.
  A longer timeout means that the change in volume back to the previous level
  will be smoother, so there will be less sharp changes in volume level.
}
  
\opt{recorder,recorderv2fm}{
\section{Super Bass}
  This setting changes the threshold at which bass frequencies are affected by
  the \emph{Loudness} setting, making the sound of drums and bass guitar 
  louder in comparison to the rest of the track.  This setting only has an
  effect if \emph{Loudness} is set to a value larger than 0dB.
}
  
\opt{recorder,recorderv2fm}{
\section{MDB {}- Micronas Dynamic Bass}
  The rest of the parameters on this menu relate to the Micronas Dynamic
  Bass (MDB) function.  This is designed to enable the user to hear bass
  notes that the headphones and/or speakers are not capable of reproducing.
  Every tone has a fundamental frequency (the ``main tone'') and also several
  harmonics, which are related to that tone.  The human brain has a mechanism
  whereby it can actually infer the presence of bass notes from the higher
  harmonics that they would generate.
    
  The practical upshot of this is that MDB produces a more authentic sounding
  bass by tricking the brain in believing it's hearing tones that the 
  headphones or speakers aren't capable of reproducing.  Try it and see
  what you think.
    
  The MDB parameters are as follows.
  %
  \begin{description}
  \item[MDB enable:]
    This turns the MDB feature on or off.  For many users this will be the
    only setting they need, since Rockbox picks sensible defaults for the
    other parameters.  MDB is turned off by default.
  \item[MDB strength:]
    How loud the harmonics generated by the MDB will be.
  \item[MDB Harmonics:] 
    The percentage of the low notes that is converted into harmonics.
    If low notes are causing speaker distortion, this can be set to 100\%
    to eliminate the fundamental completely and only produce harmonics in the
    signal.  If set to 0\% this is the same as turning the MDB feature off.
  \item[MDB Centre Frequency:]
    The cutoff frequency of your headphones or speakers.  This is usually
    given in the specification for the headphones/speakers.
  \item[MDB shape:]
    It is recommended that this parameter be set to 1.5 times the centre frequency.
      
    This is the frequency up to which harmonics are generated.  Some of the
    lower fundamentals near the cut{}-off range will have their lower
    harmonics cut off, since they will be below the range of the speakers.
    Fundamentals between the cut{}-off frequency and the lower frequency
    will have their harmonics proportionally boosted to compensate and restore
    the `loudness' of these notes.
    
    For most users, the defaults should provide an improvement in sound
    quality and can be safely left as they are.  For reference, the defaults
    Rockbox uses are:
    %  
    \begin{table}[h!]
      \begin{center}
        \begin{tabular}{@{}lc@{}}\toprule
          Setting & Value \\\midrule
          MDB Strength & 50dB \\
          MDB Harmonics & 48\% \\
          MDB Centre Frequency & 60Hz \\
          MDB Shape & 90Hz \\\bottomrule
        \end{tabular}
      \end{center}
    \end{table}
      
  \end{description}
}

\opt{SWCODEC}{
\section{Crossfeed}
  Crossfeed attempts to make the experience of listening to music on
  headphones more similar to listening to stereo speakers. When you listen
  to music through speakers, your right ear hears sound from the left speaker
  and vice versa. However, the sound from the left speaker reaches your left
  ear slightly later than the sound from your right ear, and vice versa.
  Moreover, when listening to speakers, you hear the direct sound from the
  speakers, but you also hear reflections of that sound as the sound waves
  bounce off of walls, floors, ceilings, etc. These reflections reach your
  ears slightly after the direct sound. 

  The human ear and brain are very good at interpreting the timing differences
  between direct sounds and reflected sounds and using that information to
  identify the direction that the sound is coming from.  On the other hand,
  when listening to headphones, your ear hears only the direct sounds, and
  not reflections. Moreover, your left ear hears only the left channel and
  the right ear hears only the right channel. The result is that sound from
  headphones does not provide the same spatial cues to your ear and brain as
  speakers.
    
  The crossfeed function uses an algorithm to feed a delayed and filtered
  portion of the signal from the right channel into the left channel and vice
  versa in order to simulate the spatial cues that the ear and brain receive
  when listening to a set of loudspeakers placed in front of the listener. The
  result is a more natural stereo image that can be especially appreciated in
  older rock and jazz records, where one instrument is often hard-panned to just
  one of the speakers. Many people will find such records tiring to listen to
  using earphones and no crossfeed effect.

  Crossfeed has the following settings.
  \begin{description}
  \item[Crossfeed:]
    Selects whether the crossfeed effect is to be enabled or not.
  \item[Direct Gain:]
    How much the level of the audio that travels the direct path from a speaker
    to the corresponding ear is supposed to be decreased.
  \item[Cross Gain:]
    How much the level of the audio that travels the cross path from a speaker
    to the opposite ear is to be decreased.
  \item[High-Frequency Attenuation:]
    How much the upper frequencies of the cross path audio will be dampened.
    Note that the total level of the higher frequencies will be a combination
    of both this setting and the \emph{Cross Gain} setting.
  \item[High-Frequency Cutoff]
    Decides at which frequency the cross path audio will start to be cut
    by the amount described by the \emph{High-Frequency Attenuation} setting.
  \end{description}
  
  Most users will find the default settings to yield satisfactory results, but
  for the more adventurous user the settings can be fine-tuned to provide a
  virtual speaker placement suited to ones preference.
  % TODO: adapt the guidelines for crossfeed settings found here?
  % http://www.ohl.to/interests-in-audio/crossfeed-and-eq-for-headphones/ 

  Beware that the crossfeed function is capable of making the audio distort
  if you choose settings which result in a too high output level.
}
  
\opt{SWCODEC}{
\section{Equalizer}
  \screenshot{configure_rockbox/images/ss-equalizer}{The graphical equalizer}{}
  Rockbox features a parametric equalizer. As the name suggests, a parametric
  equalizer lets you control several different parameters for each band of the
  equalizer.  Rockbox's parametric EQ is composed of five different EQ bands:
  \begin{description}
  \item[Band 0:  Low shelf filter.] A low shelf filter boosts or lowers all
    frequencies below the designated cutoff point. The ``bass''control on
    most home or car stereos is an example of a low shelf filter. The low shelf
    filter in Rockbox is more flexible than a simple ``bass'' control, because
    a simple bass control only lets you adjust the amount of gain that is
    applied. Rockbox lets you control the amount of gain that is applied
    (i.e., the amount that the bass is boosted or cut) too, but Rockbox also
    allows you to adjust the ``cutoff'' frequency where the shelving starts
    to take effect. For example, a cutoff frequency of 50 Hz will adjust only
    very low frequencies. A cutoff frequency of 200 Hz, on the other hand,
    will adjust a much wider range of bass frequencies.
  \item[Bands 1-3: Peaking filters.]
    Peaking EQ filters boost or low a center frequency that you select, as
    well as the frequencies within a certain distance of that center. Graphic
    equalizers in home stereos are usually peaking filters. The peaking EQs
    on Rockbox's parametric equalizer let you adjust three different
    parameters for each EQ band 1 through 3.  The ``center'' parameter
    controls the center frequency that is adjusted by that EQ band. The
    ``gain'' parameter controls how much each band is adjusted. Positive
    numbers make the EQ band louder, while negative numbers make that EQ band
    quieter. Finally, the ``Q'' parameter controls how wide or narrow each EQ
    band is. Higher Q values will affect a narrow band of frequencies, while
    lower EQ values will affect a wider band of frequencies.
  \item[Band 4: High shelf filter.]
    A high shelf filter boosts or lowers all frequencies above a designated
    cutoff point. The ``treble'' control on most home or car stereos is an
    example of a high shelf filter. The high shelf filter is adjusted the
    same way as the low shelf filter, except that it works on the high end
    of the frequency spectrum rather than the low end.
  \end{description}
    
  So, as a general guide, EQ band 0 should be used for lows, EQ bands 1 
  through 3 should be used for mids, and EQ band 4 should be used for highs. 
  You can find more information about setting the parametric equalizer and
  using equalizer presets in the Advanced Topics chapter of this manual.  
}
